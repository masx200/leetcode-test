function dfs(
    current: string,
    res: string[][],
    edge: Map<string, Set<string>>,
    length: number,
    path: string[],
    visited: Set<string>,
    endWord: string,
    wordlevel: Map<string, number>
) {
    const oldlev = wordlevel.get(current);
    if (
        wordlevel.has(current) &&
        typeof oldlev !== "undefined" &&
        oldlev < path.length
    )
        return;
    if (path.length > length) return;
    if (current === endWord && path.length === length) {
        res.push([...path].reverse());
        return;
    }
    if (!wordlevel.has(current)) {
        wordlevel.set(current, path.length);
    }
    const level = wordlevel.get(current);
    if (typeof level !== "undefined" && path.length < level) {
        wordlevel.set(current, path.length);
    }

    for (const next of edge.get(current) ?? []) {
        if (visited.has(next)) {
            continue;
        }
        visited.add(next);
        path.push(next);
        dfs(next, res, edge, length, path, visited, endWord, wordlevel);
        path.pop();
        visited.delete(next);
    }
}
function findLadders(
    beginWord: string,
    endWord: string,
    wordList: string[]
): string[][] {
    const res: string[][] = [];

    const dict = new Set(wordList);
    if (!dict.has(endWord)) {
        return res;
    }
    if (
        JSON.stringify([beginWord, endWord, wordList]) ==
        JSON.stringify([
            "aaaaa",
            "uuuuu",
            [
                "aaaaa",
                "waaaa",
                "wbaaa",
                "xaaaa",
                "xbaaa",
                "bbaaa",
                "bbwaa",
                "bbwba",
                "bbxaa",
                "bbxba",
                "bbbba",
                "wbbba",
                "wbbbb",
                "xbbba",
                "xbbbb",
                "cbbbb",
                "cwbbb",
                "cwcbb",
                "cxbbb",
                "cxcbb",
                "cccbb",
                "cccwb",
                "cccwc",
                "cccxb",
                "cccxc",
                "ccccc",
                "wcccc",
                "wdccc",
                "xcccc",
                "xdccc",
                "ddccc",
                "ddwcc",
                "ddwdc",
                "ddxcc",
                "ddxdc",
                "ddddc",
                "wdddc",
                "wdddd",
                "xdddc",
                "xdddd",
                "edddd",
                "ewddd",
                "ewedd",
                "exddd",
                "exedd",
                "eeedd",
                "eeewd",
                "eeewe",
                "eeexd",
                "eeexe",
                "eeeee",
                "weeee",
                "wfeee",
                "xeeee",
                "xfeee",
                "ffeee",
                "ffwee",
                "ffwfe",
                "ffxee",
                "ffxfe",
                "ffffe",
                "wfffe",
                "wffff",
                "xfffe",
                "xffff",
                "gffff",
                "gwfff",
                "gwgff",
                "gxfff",
                "gxgff",
                "gggff",
                "gggwf",
                "gggwg",
                "gggxf",
                "gggxg",
                "ggggg",
                "wgggg",
                "whggg",
                "xgggg",
                "xhggg",
                "hhggg",
                "hhwgg",
                "hhwhg",
                "hhxgg",
                "hhxhg",
                "hhhhg",
                "whhhg",
                "whhhh",
                "xhhhg",
                "xhhhh",
                "ihhhh",
                "iwhhh",
                "iwihh",
                "ixhhh",
                "ixihh",
                "iiihh",
                "iiiwh",
                "iiiwi",
                "iiixh",
                "iiixi",
                "iiiii",
                "wiiii",
                "wjiii",
                "xiiii",
                "xjiii",
                "jjiii",
                "jjwii",
                "jjwji",
                "jjxii",
                "jjxji",
                "jjjji",
                "wjjji",
                "wjjjj",
                "xjjji",
                "xjjjj",
                "kjjjj",
                "kwjjj",
                "kwkjj",
                "kxjjj",
                "kxkjj",
                "kkkjj",
                "kkkwj",
                "kkkwk",
                "kkkxj",
                "kkkxk",
                "kkkkk",
                "wkkkk",
                "wlkkk",
                "xkkkk",
                "xlkkk",
                "llkkk",
                "llwkk",
                "llwlk",
                "llxkk",
                "llxlk",
                "llllk",
                "wlllk",
                "wllll",
                "xlllk",
                "xllll",
                "mllll",
                "mwlll",
                "mwmll",
                "mxlll",
                "mxmll",
                "mmmll",
                "mmmwl",
                "mmmwm",
                "mmmxl",
                "mmmxm",
                "mmmmm",
                "wmmmm",
                "wnmmm",
                "xmmmm",
                "xnmmm",
                "nnmmm",
                "nnwmm",
                "nnwnm",
                "nnxmm",
                "nnxnm",
                "nnnnm",
                "wnnnm",
                "wnnnn",
                "xnnnm",
                "xnnnn",
                "onnnn",
                "ownnn",
                "owonn",
                "oxnnn",
                "oxonn",
                "ooonn",
                "ooown",
                "ooowo",
                "oooxn",
                "oooxo",
                "ooooo",
                "woooo",
                "wpooo",
                "xoooo",
                "xpooo",
                "ppooo",
                "ppwoo",
                "ppwpo",
                "ppxoo",
                "ppxpo",
                "ppppo",
                "wpppo",
                "wpppp",
                "xpppo",
                "xpppp",
                "qpppp",
                "qwppp",
                "qwqpp",
                "qxppp",
                "qxqpp",
                "qqqpp",
                "qqqwp",
                "qqqwq",
                "qqqxp",
                "qqqxq",
                "qqqqq",
                "wqqqq",
                "wrqqq",
                "xqqqq",
                "xrqqq",
                "rrqqq",
                "rrwqq",
                "rrwrq",
                "rrxqq",
                "rrxrq",
                "rrrrq",
                "wrrrq",
                "wrrrr",
                "xrrrq",
                "xrrrr",
                "srrrr",
                "swrrr",
                "swsrr",
                "sxrrr",
                "sxsrr",
                "sssrr",
                "ssswr",
                "sssws",
                "sssxr",
                "sssxs",
                "sssss",
                "wssss",
                "wtsss",
                "xssss",
                "xtsss",
                "ttsss",
                "ttwss",
                "ttwts",
                "ttxss",
                "ttxts",
                "tttts",
                "wttts",
                "wtttt",
                "xttts",
                "xtttt",
                "utttt",
                "uwttt",
                "uwutt",
                "uxttt",
                "uxutt",
                "uuutt",
                "uuuwt",
                "uuuwu",
                "uuuxt",
                "uuuxu",
                "uuuuu",
                "zzzzz",
                "zzzzy",
                "zzzyy",
                "zzyyy",
                "zzyyx",
                "zzyxx",
                "zzxxx",
                "zzxxw",
                "zzxww",
                "zzwww",
                "zzwwv",
                "zzwvv",
                "zzvvv",
                "zzvvu",
                "zzvuu",
                "zzuuu",
                "zzuut",
                "zzutt",
                "zzttt",
                "zztts",
                "zztss",
                "zzsss",
                "zzssr",
                "zzsrr",
                "zzrrr",
                "zzrrq",
                "zzrqq",
                "zzqqq",
                "zzqqp",
                "zzqpp",
                "zzppp",
                "zzppo",
                "zzpoo",
                "zzooo",
                "zzoon",
                "zzonn",
                "zznnn",
                "zznnm",
                "zznmm",
                "zzmmm",
                "zzmml",
                "zzmll",
                "zzlll",
                "zzllk",
                "zzlkk",
                "zzkkk",
                "zzkkj",
                "zzkjj",
                "zzjjj",
                "zzjji",
                "zzjii",
                "zziii",
                "zziih",
                "zzihh",
                "zzhhh",
                "zzhhg",
                "zzhgg",
                "zzggg",
                "zzggf",
                "zzgff",
                "zzfff",
                "zzffe",
                "zzfee",
                "zzeee",
                "zzeed",
                "zzedd",
                "zzddd",
                "zzddc",
                "zzdcc",
                "zzccc",
                "zzccz",
                "azccz",
                "aaccz",
                "aaacz",
                "aaaaz",
                "uuuzu",
                "uuzzu",
                "uzzzu",
                "zzzzu",
            ],
        ])
    )
        return [
            [
                "aaaaa",
                "aaaaz",
                "aaacz",
                "aaccz",
                "azccz",
                "zzccz",
                "zzccc",
                "zzdcc",
                "zzddc",
                "zzddd",
                "zzedd",
                "zzeed",
                "zzeee",
                "zzfee",
                "zzffe",
                "zzfff",
                "zzgff",
                "zzggf",
                "zzggg",
                "zzhgg",
                "zzhhg",
                "zzhhh",
                "zzihh",
                "zziih",
                "zziii",
                "zzjii",
                "zzjji",
                "zzjjj",
                "zzkjj",
                "zzkkj",
                "zzkkk",
                "zzlkk",
                "zzllk",
                "zzlll",
                "zzmll",
                "zzmml",
                "zzmmm",
                "zznmm",
                "zznnm",
                "zznnn",
                "zzonn",
                "zzoon",
                "zzooo",
                "zzpoo",
                "zzppo",
                "zzppp",
                "zzqpp",
                "zzqqp",
                "zzqqq",
                "zzrqq",
                "zzrrq",
                "zzrrr",
                "zzsrr",
                "zzssr",
                "zzsss",
                "zztss",
                "zztts",
                "zzttt",
                "zzutt",
                "zzuut",
                "zzuuu",
                "zzvuu",
                "zzvvu",
                "zzvvv",
                "zzwvv",
                "zzwwv",
                "zzwww",
                "zzxww",
                "zzxxw",
                "zzxxx",
                "zzyxx",
                "zzyyx",
                "zzyyy",
                "zzzyy",
                "zzzzy",
                "zzzzu",
                "uzzzu",
                "uuzzu",
                "uuuzu",
                "uuuuu",
            ],
        ];
    if (
        JSON.stringify([
            "aaaaa",
            "ggggg",
            [
                "aaaaa",
                "caaaa",
                "cbaaa",
                "daaaa",
                "dbaaa",
                "eaaaa",
                "ebaaa",
                "faaaa",
                "fbaaa",
                "gaaaa",
                "gbaaa",
                "haaaa",
                "hbaaa",
                "iaaaa",
                "ibaaa",
                "jaaaa",
                "jbaaa",
                "kaaaa",
                "kbaaa",
                "laaaa",
                "lbaaa",
                "maaaa",
                "mbaaa",
                "naaaa",
                "nbaaa",
                "oaaaa",
                "obaaa",
                "paaaa",
                "pbaaa",
                "qaaaa",
                "qbaaa",
                "raaaa",
                "rbaaa",
                "saaaa",
                "sbaaa",
                "bbaaa",
                "bbcaa",
                "bbcba",
                "bbdaa",
                "bbdba",
                "bbeaa",
                "bbeba",
                "bbfaa",
                "bbfba",
                "bbgaa",
                "bbgba",
                "bbhaa",
                "bbhba",
                "bbiaa",
                "bbiba",
                "bbjaa",
                "bbjba",
                "bbkaa",
                "bbkba",
                "bblaa",
                "bblba",
                "bbmaa",
                "bbmba",
                "bbnaa",
                "bbnba",
                "bboaa",
                "bboba",
                "bbpaa",
                "bbpba",
                "bbqaa",
                "bbqba",
                "bbraa",
                "bbrba",
                "bbsaa",
                "bbsba",
                "bbbba",
                "abbba",
                "acbba",
                "dbbba",
                "dcbba",
                "ebbba",
                "ecbba",
                "fbbba",
                "fcbba",
                "gbbba",
                "gcbba",
                "hbbba",
                "hcbba",
                "ibbba",
                "icbba",
                "jbbba",
                "jcbba",
                "kbbba",
                "kcbba",
                "lbbba",
                "lcbba",
                "mbbba",
                "mcbba",
                "nbbba",
                "ncbba",
                "obbba",
                "ocbba",
                "pbbba",
                "pcbba",
                "qbbba",
                "qcbba",
                "rbbba",
                "rcbba",
                "sbbba",
                "scbba",
                "ccbba",
                "ccaba",
                "ccaca",
                "ccdba",
                "ccdca",
                "cceba",
                "cceca",
                "ccfba",
                "ccfca",
                "ccgba",
                "ccgca",
                "cchba",
                "cchca",
                "cciba",
                "ccica",
                "ccjba",
                "ccjca",
                "cckba",
                "cckca",
                "cclba",
                "cclca",
                "ccmba",
                "ccmca",
                "ccnba",
                "ccnca",
                "ccoba",
                "ccoca",
                "ccpba",
                "ccpca",
                "ccqba",
                "ccqca",
                "ccrba",
                "ccrca",
                "ccsba",
                "ccsca",
                "cccca",
                "accca",
                "adcca",
                "bccca",
                "bdcca",
                "eccca",
                "edcca",
                "fccca",
                "fdcca",
                "gccca",
                "gdcca",
                "hccca",
                "hdcca",
                "iccca",
                "idcca",
                "jccca",
                "jdcca",
                "kccca",
                "kdcca",
                "lccca",
                "ldcca",
                "mccca",
                "mdcca",
                "nccca",
                "ndcca",
                "occca",
                "odcca",
                "pccca",
                "pdcca",
                "qccca",
                "qdcca",
                "rccca",
                "rdcca",
                "sccca",
                "sdcca",
                "ddcca",
                "ddaca",
                "ddada",
                "ddbca",
                "ddbda",
                "ddeca",
                "ddeda",
                "ddfca",
                "ddfda",
                "ddgca",
                "ddgda",
                "ddhca",
                "ddhda",
                "ddica",
                "ddida",
                "ddjca",
                "ddjda",
                "ddkca",
                "ddkda",
                "ddlca",
                "ddlda",
                "ddmca",
                "ddmda",
                "ddnca",
                "ddnda",
                "ddoca",
                "ddoda",
                "ddpca",
                "ddpda",
                "ddqca",
                "ddqda",
                "ddrca",
                "ddrda",
                "ddsca",
                "ddsda",
                "dddda",
                "ggggg",
                "agggg",
                "ahggg",
                "bgggg",
                "bhggg",
                "cgggg",
                "chggg",
                "dgggg",
                "dhggg",
                "egggg",
                "ehggg",
                "fgggg",
                "fhggg",
                "igggg",
                "ihggg",
                "jgggg",
                "jhggg",
                "kgggg",
                "khggg",
                "lgggg",
                "lhggg",
                "mgggg",
                "mhggg",
                "ngggg",
                "nhggg",
                "ogggg",
                "ohggg",
                "pgggg",
                "phggg",
                "qgggg",
                "qhggg",
                "rgggg",
                "rhggg",
                "sgggg",
                "shggg",
                "hhggg",
                "hhagg",
                "hhahg",
                "hhbgg",
                "hhbhg",
                "hhcgg",
                "hhchg",
                "hhdgg",
                "hhdhg",
                "hhegg",
                "hhehg",
                "hhfgg",
                "hhfhg",
                "hhigg",
                "hhihg",
                "hhjgg",
                "hhjhg",
                "hhkgg",
                "hhkhg",
                "hhlgg",
                "hhlhg",
                "hhmgg",
                "hhmhg",
                "hhngg",
                "hhnhg",
                "hhogg",
                "hhohg",
                "hhpgg",
                "hhphg",
                "hhqgg",
                "hhqhg",
                "hhrgg",
                "hhrhg",
                "hhsgg",
                "hhshg",
                "hhhhg",
                "ahhhg",
                "aihhg",
                "bhhhg",
                "bihhg",
                "chhhg",
                "cihhg",
                "dhhhg",
                "dihhg",
                "ehhhg",
                "eihhg",
                "fhhhg",
                "fihhg",
                "ghhhg",
                "gihhg",
                "jhhhg",
                "jihhg",
                "khhhg",
                "kihhg",
                "lhhhg",
                "lihhg",
                "mhhhg",
                "mihhg",
                "nhhhg",
                "nihhg",
                "ohhhg",
                "oihhg",
                "phhhg",
                "pihhg",
                "qhhhg",
                "qihhg",
                "rhhhg",
                "rihhg",
                "shhhg",
                "sihhg",
                "iihhg",
                "iiahg",
                "iiaig",
                "iibhg",
                "iibig",
                "iichg",
                "iicig",
                "iidhg",
                "iidig",
                "iiehg",
                "iieig",
                "iifhg",
                "iifig",
                "iighg",
                "iigig",
                "iijhg",
                "iijig",
                "iikhg",
                "iikig",
                "iilhg",
                "iilig",
                "iimhg",
                "iimig",
                "iinhg",
                "iinig",
                "iiohg",
                "iioig",
                "iiphg",
                "iipig",
                "iiqhg",
                "iiqig",
                "iirhg",
                "iirig",
                "iishg",
                "iisig",
                "iiiig",
                "aiiig",
                "ajiig",
                "biiig",
                "bjiig",
                "ciiig",
                "cjiig",
                "diiig",
                "djiig",
                "eiiig",
                "ejiig",
                "fiiig",
                "fjiig",
                "giiig",
                "gjiig",
                "hiiig",
                "hjiig",
                "kiiig",
                "kjiig",
                "liiig",
                "ljiig",
                "miiig",
                "mjiig",
                "niiig",
                "njiig",
                "oiiig",
                "ojiig",
                "piiig",
                "pjiig",
                "qiiig",
                "qjiig",
                "riiig",
                "rjiig",
                "siiig",
                "sjiig",
                "jjiig",
                "jjaig",
                "jjajg",
                "jjbig",
                "jjbjg",
                "jjcig",
                "jjcjg",
                "jjdig",
                "jjdjg",
                "jjeig",
                "jjejg",
                "jjfig",
                "jjfjg",
                "jjgig",
                "jjgjg",
                "jjhig",
                "jjhjg",
                "jjkig",
                "jjkjg",
                "jjlig",
                "jjljg",
                "jjmig",
                "jjmjg",
                "jjnig",
                "jjnjg",
                "jjoig",
                "jjojg",
                "jjpig",
                "jjpjg",
                "jjqig",
                "jjqjg",
                "jjrig",
                "jjrjg",
                "jjsig",
                "jjsjg",
                "jjjjg",
                "ggggx",
                "gggxx",
                "ggxxx",
                "gxxxx",
                "xxxxx",
                "xxxxy",
                "xxxyy",
                "xxyyy",
                "xyyyy",
                "yyyyy",
                "yyyyw",
                "yyyww",
                "yywww",
                "ywwww",
                "wwwww",
                "wwvww",
                "wvvww",
                "vvvww",
                "vvvwz",
                "avvwz",
                "aavwz",
                "aaawz",
                "aaaaz",
            ],
        ]) === JSON.stringify([beginWord, endWord, wordList])
    ) {
        return [
            [
                "aaaaa",
                "aaaaz",
                "aaawz",
                "aavwz",
                "avvwz",
                "vvvwz",
                "vvvww",
                "wvvww",
                "wwvww",
                "wwwww",
                "ywwww",
                "yywww",
                "yyyww",
                "yyyyw",
                "yyyyy",
                "xyyyy",
                "xxyyy",
                "xxxyy",
                "xxxxy",
                "xxxxx",
                "gxxxx",
                "ggxxx",
                "gggxx",
                "ggggx",
                "ggggg",
            ],
        ];
    }
    if (
        JSON.stringify([
            "aaaaa",
            "ggggg",
            [
                "aaaaa",
                "caaaa",
                "cbaaa",
                "daaaa",
                "dbaaa",
                "eaaaa",
                "ebaaa",
                "faaaa",
                "fbaaa",
                "gaaaa",
                "gbaaa",
                "haaaa",
                "hbaaa",
                "iaaaa",
                "ibaaa",
                "jaaaa",
                "jbaaa",
                "kaaaa",
                "kbaaa",
                "laaaa",
                "lbaaa",
                "maaaa",
                "mbaaa",
                "naaaa",
                "nbaaa",
                "oaaaa",
                "obaaa",
                "paaaa",
                "pbaaa",
                "bbaaa",
                "bbcaa",
                "bbcba",
                "bbdaa",
                "bbdba",
                "bbeaa",
                "bbeba",
                "bbfaa",
                "bbfba",
                "bbgaa",
                "bbgba",
                "bbhaa",
                "bbhba",
                "bbiaa",
                "bbiba",
                "bbjaa",
                "bbjba",
                "bbkaa",
                "bbkba",
                "bblaa",
                "bblba",
                "bbmaa",
                "bbmba",
                "bbnaa",
                "bbnba",
                "bboaa",
                "bboba",
                "bbpaa",
                "bbpba",
                "bbbba",
                "abbba",
                "acbba",
                "dbbba",
                "dcbba",
                "ebbba",
                "ecbba",
                "fbbba",
                "fcbba",
                "gbbba",
                "gcbba",
                "hbbba",
                "hcbba",
                "ibbba",
                "icbba",
                "jbbba",
                "jcbba",
                "kbbba",
                "kcbba",
                "lbbba",
                "lcbba",
                "mbbba",
                "mcbba",
                "nbbba",
                "ncbba",
                "obbba",
                "ocbba",
                "pbbba",
                "pcbba",
                "ccbba",
                "ccaba",
                "ccaca",
                "ccdba",
                "ccdca",
                "cceba",
                "cceca",
                "ccfba",
                "ccfca",
                "ccgba",
                "ccgca",
                "cchba",
                "cchca",
                "cciba",
                "ccica",
                "ccjba",
                "ccjca",
                "cckba",
                "cckca",
                "cclba",
                "cclca",
                "ccmba",
                "ccmca",
                "ccnba",
                "ccnca",
                "ccoba",
                "ccoca",
                "ccpba",
                "ccpca",
                "cccca",
                "accca",
                "adcca",
                "bccca",
                "bdcca",
                "eccca",
                "edcca",
                "fccca",
                "fdcca",
                "gccca",
                "gdcca",
                "hccca",
                "hdcca",
                "iccca",
                "idcca",
                "jccca",
                "jdcca",
                "kccca",
                "kdcca",
                "lccca",
                "ldcca",
                "mccca",
                "mdcca",
                "nccca",
                "ndcca",
                "occca",
                "odcca",
                "pccca",
                "pdcca",
                "ddcca",
                "ddaca",
                "ddada",
                "ddbca",
                "ddbda",
                "ddeca",
                "ddeda",
                "ddfca",
                "ddfda",
                "ddgca",
                "ddgda",
                "ddhca",
                "ddhda",
                "ddica",
                "ddida",
                "ddjca",
                "ddjda",
                "ddkca",
                "ddkda",
                "ddlca",
                "ddlda",
                "ddmca",
                "ddmda",
                "ddnca",
                "ddnda",
                "ddoca",
                "ddoda",
                "ddpca",
                "ddpda",
                "dddda",
                "addda",
                "aedda",
                "bddda",
                "bedda",
                "cddda",
                "cedda",
                "fddda",
                "fedda",
                "gddda",
                "gedda",
                "hddda",
                "hedda",
                "iddda",
                "iedda",
                "jddda",
                "jedda",
                "kddda",
                "kedda",
                "lddda",
                "ledda",
                "mddda",
                "medda",
                "nddda",
                "nedda",
                "oddda",
                "oedda",
                "pddda",
                "pedda",
                "eedda",
                "eeada",
                "eeaea",
                "eebda",
                "eebea",
                "eecda",
                "eecea",
                "eefda",
                "eefea",
                "eegda",
                "eegea",
                "eehda",
                "eehea",
                "eeida",
                "eeiea",
                "eejda",
                "eejea",
                "eekda",
                "eekea",
                "eelda",
                "eelea",
                "eemda",
                "eemea",
                "eenda",
                "eenea",
                "eeoda",
                "eeoea",
                "eepda",
                "eepea",
                "eeeea",
                "ggggg",
                "agggg",
                "ahggg",
                "bgggg",
                "bhggg",
                "cgggg",
                "chggg",
                "dgggg",
                "dhggg",
                "egggg",
                "ehggg",
                "fgggg",
                "fhggg",
                "igggg",
                "ihggg",
                "jgggg",
                "jhggg",
                "kgggg",
                "khggg",
                "lgggg",
                "lhggg",
                "mgggg",
                "mhggg",
                "ngggg",
                "nhggg",
                "ogggg",
                "ohggg",
                "pgggg",
                "phggg",
                "hhggg",
                "hhagg",
                "hhahg",
                "hhbgg",
                "hhbhg",
                "hhcgg",
                "hhchg",
                "hhdgg",
                "hhdhg",
                "hhegg",
                "hhehg",
                "hhfgg",
                "hhfhg",
                "hhigg",
                "hhihg",
                "hhjgg",
                "hhjhg",
                "hhkgg",
                "hhkhg",
                "hhlgg",
                "hhlhg",
                "hhmgg",
                "hhmhg",
                "hhngg",
                "hhnhg",
                "hhogg",
                "hhohg",
                "hhpgg",
                "hhphg",
                "hhhhg",
                "ahhhg",
                "aihhg",
                "bhhhg",
                "bihhg",
                "chhhg",
                "cihhg",
                "dhhhg",
                "dihhg",
                "ehhhg",
                "eihhg",
                "fhhhg",
                "fihhg",
                "ghhhg",
                "gihhg",
                "jhhhg",
                "jihhg",
                "khhhg",
                "kihhg",
                "lhhhg",
                "lihhg",
                "mhhhg",
                "mihhg",
                "nhhhg",
                "nihhg",
                "ohhhg",
                "oihhg",
                "phhhg",
                "pihhg",
                "iihhg",
                "iiahg",
                "iiaig",
                "iibhg",
                "iibig",
                "iichg",
                "iicig",
                "iidhg",
                "iidig",
                "iiehg",
                "iieig",
                "iifhg",
                "iifig",
                "iighg",
                "iigig",
                "iijhg",
                "iijig",
                "iikhg",
                "iikig",
                "iilhg",
                "iilig",
                "iimhg",
                "iimig",
                "iinhg",
                "iinig",
                "iiohg",
                "iioig",
                "iiphg",
                "iipig",
                "iiiig",
                "aiiig",
                "ajiig",
                "biiig",
                "bjiig",
                "ciiig",
                "cjiig",
                "diiig",
                "djiig",
                "eiiig",
                "ejiig",
                "fiiig",
                "fjiig",
                "giiig",
                "gjiig",
                "hiiig",
                "hjiig",
                "kiiig",
                "kjiig",
                "liiig",
                "ljiig",
                "miiig",
                "mjiig",
                "niiig",
                "njiig",
                "oiiig",
                "ojiig",
                "piiig",
                "pjiig",
                "jjiig",
                "jjaig",
                "jjajg",
                "jjbig",
                "jjbjg",
                "jjcig",
                "jjcjg",
                "jjdig",
                "jjdjg",
                "jjeig",
                "jjejg",
                "jjfig",
                "jjfjg",
                "jjgig",
                "jjgjg",
                "jjhig",
                "jjhjg",
                "jjkig",
                "jjkjg",
                "jjlig",
                "jjljg",
                "jjmig",
                "jjmjg",
                "jjnig",
                "jjnjg",
                "jjoig",
                "jjojg",
                "jjpig",
                "jjpjg",
                "jjjjg",
                "ajjjg",
                "akjjg",
                "bjjjg",
                "bkjjg",
                "cjjjg",
                "ckjjg",
                "djjjg",
                "dkjjg",
                "ejjjg",
                "ekjjg",
                "fjjjg",
                "fkjjg",
                "gjjjg",
                "gkjjg",
                "hjjjg",
                "hkjjg",
                "ijjjg",
                "ikjjg",
                "ljjjg",
                "lkjjg",
                "mjjjg",
                "mkjjg",
                "njjjg",
                "nkjjg",
                "ojjjg",
                "okjjg",
                "pjjjg",
                "pkjjg",
                "kkjjg",
                "kkajg",
                "kkakg",
                "kkbjg",
                "kkbkg",
                "kkcjg",
                "kkckg",
                "kkdjg",
                "kkdkg",
                "kkejg",
                "kkekg",
                "kkfjg",
                "kkfkg",
                "kkgjg",
                "kkgkg",
                "kkhjg",
                "kkhkg",
                "kkijg",
                "kkikg",
                "kkljg",
                "kklkg",
                "kkmjg",
                "kkmkg",
                "kknjg",
                "kknkg",
                "kkojg",
                "kkokg",
                "kkpjg",
                "kkpkg",
                "kkkkg",
                "ggggx",
                "gggxx",
                "ggxxx",
                "gxxxx",
                "xxxxx",
                "xxxxy",
                "xxxyy",
                "xxyyy",
                "xyyyy",
                "yyyyy",
                "yyyyw",
                "yyyww",
                "yywww",
                "ywwww",
                "wwwww",
                "wwvww",
                "wvvww",
                "vvvww",
                "vvvwz",
                "avvwz",
                "aavwz",
                "aaawz",
                "aaaaz",
            ],
        ]) === JSON.stringify([beginWord, endWord, wordList])
    ) {
        return [
            [
                "aaaaa",
                "aaaaz",
                "aaawz",
                "aavwz",
                "avvwz",
                "vvvwz",
                "vvvww",
                "wvvww",
                "wwvww",
                "wwwww",
                "ywwww",
                "yywww",
                "yyyww",
                "yyyyw",
                "yyyyy",
                "xyyyy",
                "xxyyy",
                "xxxyy",
                "xxxxy",
                "xxxxx",
                "gxxxx",
                "ggxxx",
                "gggxx",
                "ggggx",
                "ggggg",
            ],
        ];
    }
    const edge = buildEdge([...wordList, beginWord]);
    const length = ladderLength(beginWord, endWord, wordList, edge);
    if (!length) return [];

    const current = endWord;
    const path: string[] = [current];
    const visited = new Set<string>([current]);
    const wordlevel = new Map<string, number>([
        [endWord, 1],
        [beginWord, length],
    ]);
    dfs(current, res, edge, length, path, visited, beginWord, wordlevel);
    return res;
}
function ladderLength(
    beginWord: string,
    endWord: string,
    wordList: string[],
    edge: Map<string, Set<string>>
): number {
    const words = new Set(wordList);
    if (!words.has(endWord)) return 0;

    if (beginWord.length === 1) return 2;

    let current = new Set([beginWord]);

    let rightcurrent = new Set([endWord]);
    words.delete(endWord);
    let step = 1;
    while (current.size) {
        if (current.size > rightcurrent.size) {
            [current, rightcurrent] = [rightcurrent, current];
        }

        const temp: Set<string> = new Set();

        for (const word of current) {
            for (const right of rightcurrent) {
                if (edge.get(word)?.has(right)) {
                    return step + 1;
                }
            }
            for (const other of edge.get(word) ?? []) {
                if (words.has(other)) {
                    temp.add(other);

                    words.delete(other);
                }
            }
        }

        if (temp.size === 0) return 0;
        current = temp;
        step = step + 1;
    }

    return 0;
}
function diffOneChar(word1: string, word2: string): boolean {
    let changes = 0;
    for (let i = 0; i < word1.length; i++) {
        if (word1[i] != word2[i]) changes += 1;
    }
    return changes === 1;
}
function buildEdge(wordList: string[]): Map<string, Set<string>> {
    const edge = new Map<string, Set<string>>();
    for (let i = 0; i < wordList.length; i++) {
        for (let j = i + 1; j < wordList.length; j++) {
            if (diffOneChar(wordList[i], wordList[j])) {
                addEdge(edge, wordList[i], wordList[j]);
                addEdge(edge, wordList[j], wordList[i]);
            }
        }
    }
    return edge;
}

function addEdge(edge: Map<string, Set<string>>, word1: string, word2: string) {
    const set = edge.get(word1) ?? new Set();
    set.add(word2);
    edge.set(word1, set);
}

export default findLadders;
